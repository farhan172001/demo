@RestController
@RequestMapping("/adhoc")
@RequiredArgsConstructor
public class AdhocController {

    private final DocumentProcessingService documentProcessingService;

    /**
     * Test endpoint to process Base64 PDF + TXT metadata and trigger S3 upload + event.
     * 
     * Example:
     * POST /adhoc/test-document
     */
    @PostMapping("/test-document")
    public ResponseEntity<String> testDocumentProcessing(@RequestBody DocumentRequest request) {

        try {
            documentProcessingService.processDocument(request);
            return ResponseEntity.ok("SUCCESS: Document processed end-to-end.");
        } catch (ApplicationException e) {
            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR)
                    .body("FAILED: " + e.getMessage());
        }
    }
}
"GroupNumber, AGC0064216245;GroupName, SYST_WYN22.4.3 Group1; CorrTransact
{
  "metadataFileContent": "GroupNumber, AGC0064216245; GroupName, SYST_WYN22.4.3 Group1; CorrTransactionId, B1",
  "metadataFileName": "metadata.txt",
  
  "dataFileContent": "JVBERi0xLjQKJeLjz9MKNCAwIG9iago8PC9MZW5ndGggNSAwIFIvRmlsdGVyL0ZsYXRlRGVjb2RlPj5zdHJlYW0KeAErKCkpCnN0cmVhbWVuZAplbmRvYmoK",
  "dataFileContentType": "application/pdf",
  "dataFileName": "input.pdf"
}
import software.amazon.awssdk.http.apache.internal.impl.ApacheSdkHttpClientFactory;
import software.amazon.awssdk.http.TlsTrustManagersProvider;

import javax.net.ssl.TrustManager;
import javax.net.ssl.X509TrustManager;
import java.security.cert.X509Certificate;

public class TrustAllTrustManagerProvider implements TlsTrustManagersProvider {

    @Override
    public TrustManager[] trustManagers() {
        return new TrustManager[]{
            new X509TrustManager() {
                public void checkClientTrusted(X509Certificate[] xcs, String string) {}

                public void checkServerTrusted(X509Certificate[] xcs, String string) {}

                public X509Certificate[] getAcceptedIssuers() {
                    return new X509Certificate[0];
                }
            }
        };
    }
}
@Bean
@Primary
public S3Client s3Client() {
    return S3Client.builder()
            .credentialsProvider(DefaultCredentialsProvider.create())
            .region(Region.of(s3Region))
            .httpClientBuilder(
                ApacheHttpClient.builder()
                    .tlsTrustManagersProvider(new TrustAllTrustManagerProvider())
            )
            .build();
}
<dependency>
    <groupId>software.amazon.awssdk</groupId>
    <artifactId>apache-client</artifactId>
</dependency>
